# üéÖ Secret Santa - –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- ‚úÖ AWS –¥–µ–ø–ª–æ–π (EC2 + RDS + S3 + CloudFront)
- ‚úÖ Terraform –¥–ª—è IaC
- ‚úÖ GitHub Actions –¥–ª—è CI/CD
- ‚úÖ Docker –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Backend

- ‚úÖ Go + Gin + GORM
- ‚úÖ PostgreSQL
- ‚úÖ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ Google OAuth
- ‚úÖ Telegram Login
- ‚úÖ S3 –¥–ª—è –∞–≤–∞—Ç–∞—Ä–æ–≤
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ CRUD —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π
- ‚úÖ –ñ–µ—Ä–µ–±—å–µ–≤–∫–∞ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)

### Frontend

- ‚úÖ React + TypeScript + Vite
- ‚úÖ Material-UI
- ‚úÖ TanStack Query
- ‚úÖ react-hook-form + zod
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü—ã: Login, Dashboard, CreateRaffle, RaffleDetail
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π

---

## üìã –¢–µ–∫—É—â–∏–µ –º–æ–¥–µ–ª–∏

### User

```go
type User struct {
    ID         uuid.UUID
    GoogleID   *string
    TelegramID *int64
    Name       string
    AvatarURL  *string
}
```

### Group (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è ‚Üí Raffle)

```go
type Group struct {
    ID          uuid.UUID
    Name        string
    Description string
    AvatarURL   *string
    InviteCode  string
    Budget      string      // "1000-3000 RUB"
    EventDate   *time.Time
    OwnerID     uuid.UUID
    IsDrawn     bool
    Members     []Member
}
```

---

## üöß –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å

### –§–∞–∑–∞ 1: –ü—Ä–æ—Ñ–∏–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞

**–¶–µ–ª—å**: –†–∞—Å—à–∏—Ä–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- [ ] –ú–æ–¥–µ–ª—å `UserProfile` (–¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

  - –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ (–ª–æ–∫–∞–ª—å–Ω—ã–π + –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
  - –¢–µ–ª–µ—Ñ–æ–Ω
  - –û —Å–µ–±–µ
  - Wishlist (—á—Ç–æ —Ö–æ—á—É)
  - –ê–Ω—Ç–∏–≤–∏—à–ª–∏—Å—Ç (–∞–ª–ª–µ—Ä–≥–∏–∏, —á—Ç–æ –Ω–µ –¥–∞—Ä–∏—Ç—å)

- [ ] API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

  - `GET /api/profile` - –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
  - `PUT /api/profile` - –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å

- [ ] UI —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/profile`

### –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ

**–¶–µ–ª—å**: –ü—Ä–æ—Ñ–∏–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ä–æ–∑—ã–≥—Ä—ã—à–µ

- [ ] –ú–æ–¥–µ–ª—å `Participant` (–≤–º–µ—Å—Ç–æ `Member`)

  - –°–≤—è–∑—å —Å `UserProfile` (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
  - –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–æ–∑—ã–≥—Ä—ã—à–∞
  - `GifteeID` - –∫–æ–º—É –¥–∞—Ä–∏—Ç (–ø–æ—Å–ª–µ –∂–µ—Ä–µ–±—å–µ–≤–∫–∏)

- [ ] API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

  - `GET /api/raffles/:id/participants` - —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
  - `PUT /api/raffles/:id/my-profile` - –æ–±–Ω–æ–≤–∏—Ç—å –º–æ–π –ø—Ä–æ—Ñ–∏–ª—å –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ
  - `GET /api/raffles/:id/my-giftee` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ (–ø–æ—Å–ª–µ –∂–µ—Ä–µ–±—å–µ–≤–∫–∏)

- [ ] UI:
  - –§–æ—Ä–º–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–∏
  - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å –µ–≥–æ wishlist/–∞–¥—Ä–µ—Å–æ–º

### –§–∞–∑–∞ 3: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (Exclusions)

**–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–∫–∞–∑–∞—Ç—å –∫—Ç–æ –Ω–µ –¥–æ–ª–∂–µ–Ω –¥–∞—Ä–∏—Ç—å –∫–æ–º—É

- [ ] –ú–æ–¥–µ–ª—å `Exclusion`

  ```go
  type Exclusion struct {
      RaffleID        uuid.UUID
      ParticipantA_ID uuid.UUID  // A –Ω–µ –¥–∞—Ä–∏—Ç B
      ParticipantB_ID uuid.UUID  // B –Ω–µ –¥–∞—Ä–∏—Ç A
      Reason          string
  }
  ```

- [ ] API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

  - `GET /api/raffles/:id/exclusions`
  - `POST /api/raffles/:id/exclusions`
  - `DELETE /api/raffles/:id/exclusions/:id`

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –∂–µ—Ä–µ–±—å–µ–≤–∫–∏ —Å —É—á—ë—Ç–æ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

- [ ] UI: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ (–º–∞—Ç—Ä–∏—Ü–∞ –∏–ª–∏ —Å–ø–∏—Å–æ–∫ –ø–∞—Ä)

### –§–∞–∑–∞ 4: –ê–Ω–æ–Ω–∏–º–Ω—ã–π —á–∞—Ç

**–¶–µ–ª—å**: –î–∞—Ä–∏—Ç–µ–ª—å –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è –∞–Ω–æ–Ω–∏–º–Ω–æ

- [ ] –ú–æ–¥–µ–ª—å `Message`

  ```go
  type Message struct {
      RaffleID   uuid.UUID
      SantaID    uuid.UUID   // Participant ID –¥–∞—Ä–∏—Ç–µ–ª—è
      GifteeID   uuid.UUID   // Participant ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è
      FromSanta  bool        // true = –æ—Ç –¥–∞—Ä–∏—Ç–µ–ª—è, false = –æ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è
      Content    string
      ReadAt     *time.Time
  }
  ```

- [ ] WebSocket —Å–µ—Ä–≤–µ—Ä (`gorilla/websocket`)

  - Endpoint: `WS /ws/chat`
  - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT
  - Broadcast —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ø–∞—Ä–µ santa‚Üîgiftee

- [ ] API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–∏—Å—Ç–æ—Ä–∏—è):

  - `GET /api/raffles/:id/chat/giftee` - —á–∞—Ç —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º
  - `GET /api/raffles/:id/chat/santa` - —á–∞—Ç —Å –¥–∞—Ä–∏—Ç–µ–ª–µ–º

- [ ] UI:
  - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–∞–ª—Ç–∞–π–º —á–∞—Ç–∞
  - –î–≤–µ –≤–∫–ª–∞–¥–∫–∏: —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º / —Å –¥–∞—Ä–∏—Ç–µ–ª–µ–º
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ø–µ—á–∞—Ç–∞–µ—Ç..."
  - Badge –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

---

## üéØ –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –°–ø—Ä–∏–Ω—Ç 1: –ü—Ä–æ—Ñ–∏–ª—å (2-3 –¥–Ω—è)

1. –ú–æ–¥–µ–ª—å `UserProfile` + –º–∏–≥—Ä–∞—Ü–∏–∏
2. API –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è
3. UI —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/profile`
4. –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –≤ —Ä–æ–∑—ã–≥—Ä—ã—à

### –°–ø—Ä–∏–Ω—Ç 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ (3-4 –¥–Ω—è)

1. –ú–æ–¥–µ–ª—å `Participant` (–∑–∞–º–µ–Ω–∞ `Member`)
2. –§–æ—Ä–º–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø—Ä–∏ join
3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–º–æ–π –ø–æ–ª—É—á–∞—Ç–µ–ª—å" –ø–æ—Å–ª–µ –∂–µ—Ä–µ–±—å–µ–≤–∫–∏
4. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ wishlist/–∞–¥—Ä–µ—Å–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è

### –°–ø—Ä–∏–Ω—Ç 3: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (2-3 –¥–Ω—è)

1. –ú–æ–¥–µ–ª—å `Exclusion`
2. UI —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
3. –û–±–Ω–æ–≤–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –∂–µ—Ä–µ–±—å–µ–≤–∫–∏
4. –í–∞–ª–∏–¥–∞—Ü–∏—è (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)

### –°–ø—Ä–∏–Ω—Ç 4: –ê–Ω–æ–Ω–∏–º–Ω—ã–π —á–∞—Ç (4-5 –¥–Ω–µ–π)

1. WebSocket —Å–µ—Ä–≤–µ—Ä
2. –ú–æ–¥–µ–ª—å `Message` + —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
3. UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∞—Ç–∞
4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–æ–∑—ã–≥—Ä—ã—à–∞

### –°–ø—Ä–∏–Ω—Ç 5: Polish (1-2 –¥–Ω—è)

1. –£–ª—É—á—à–µ–Ω–∏—è UI/UX
2. –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

**Must have (–¥–ª—è MVP):**

- –ü—Ä–æ—Ñ–∏–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ —Å –∞–¥—Ä–µ—Å–æ–º/wishlist
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–º–æ–π –ø–æ–ª—É—á–∞—Ç–µ–ª—å" –ø–æ—Å–ª–µ –∂–µ—Ä–µ–±—å–µ–≤–∫–∏
- –ë–∞–∑–æ–≤—ã–π –∞–Ω–æ–Ω–∏–º–Ω—ã–π —á–∞—Ç

**Nice to have:**

- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (exclusions)
- –†–µ–∞–ª—Ç–∞–π–º WebSocket
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ø–µ—á–∞—Ç–∞–µ—Ç..."

**Future:**

- –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
- –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
- –ò—Å—Ç–æ—Ä–∏—è —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π (–∞—Ä—Ö–∏–≤)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
